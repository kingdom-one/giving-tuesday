@use "../abstracts/mixins" as m;
@use "../abstracts/variables" as v;

%clip-path {
	clip-path: var(--lift-left-bottom);
}

.cta {
	position: relative;
	margin-bottom: -6rem;
	@include m.media-breakpoint-up(md) {
		@include m.bg-image("../assets/png/bg-images/cta.png?as=webp", cover);
	}

	&__background {
		position: absolute;
		height: 50%;
		width: 100%;
		top: 0;

		&--gradient {
			@include m.absolute_100;
			z-index: 1;
			background-image: linear-gradient(
				to bottom,
				rgba(v.$color-primary, 1) 30%,
				rgba(v.$color-secondary, 1) 90%
			);
			@extend %clip-path;
		}

		&--color {
			@include m.absolute_100;
			z-index: 2;
			background: linear-gradient(
				to right,
				var(--color-primary--light) 30%,
				transparent 90%
			);
			@extend %clip-path;
		}

		&--lower {
			@include m.absolute_100;
			z-index: 3;
			background-position: center;
			background-size: cover;
			background-repeat: no-repeat;
			@extend %clip-path;
		}
	}

	&__content {
		position: relative;
		z-index: 5;

		lite-youtube {
			margin: 0 auto;
			max-width: unset;
		}
	}
}

%plan_steps {
	@include m.displayFlex(column, $cross: center);
	text-align: center;
	position: relative;
	@include m.media-breakpoint-down(md) {
		margin-bottom: 3rem;
	}
}

.plan {
	margin-top: 8rem;
	&__step {
		&--1 {
			@extend %plan_steps;
		}

		&--2 {
			@extend %plan_steps;

			.plan {
				&__icon {
					img {
						aspect-ratio: 1;
						position: absolute;
						top: -5rem;
						left: 0;
						height: 33.8rem;
					}
				}
			}
		}

		&--3 {
			@extend %plan_steps;
		}
	}

	&__icon {
		height: 25.7rem;

		img {
			height: 100%;
			width: 100%;
			object-fit: contain;
		}
	}
	&__headline {
		margin-top: 2rem;
		margin-bottom: 1.5rem;
		font-weight: 700;
		color: var(--color-secondary);
		font-size: 2.4rem;
	}

	&__description {
		font-size: 1.35em;
	}
}

.plan {
	&__background {
		@include m.background-layers;
		background-position: right;
		background-size: contain;
		background-repeat: no-repeat;
	}
	&__content {
		z-index: 9;
		position: relative;
	}
}
